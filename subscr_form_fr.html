<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Formulaire d’inscription aux cours &#8212; Canopee - Formations DAO</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.3.6/readable/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="_static/canopee_ico.ico"/>
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="Training evaluation form" href="eval_form_en.html" />
    <link rel="prev" title="Formations" href="cours.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          CANOPEE</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="cours.html">Formations</a></li>
                <li><a href="docs.html">Documentation</a></li>
                <li><a href="assist.html">Assistance</a></li>
                <li><a href="team.html">Equipe</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html"> <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Formulaire d&#8217;inscription aux cours</a></li>
<li class="toctree-l1"><a class="reference internal" href="eval_form_en.html">Training evaluation form</a></li>
<li class="toctree-l1"><a class="reference internal" href="temoignages.html">Témoignages</a></li>
<li class="toctree-l1"><a class="reference internal" href="cours.html">Formations</a></li>
<li class="toctree-l1"><a class="reference internal" href="cours.html#initiation-a-su">Initiation à <strong>Sketchup</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="cours.html#perfectionnement-a-su">Perfectionnement à <strong>Sketchup</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="cours.html#initiation-a-acad">Initiation à <strong>AutoCAD</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="cours.html#perfectionnement-a-acad">Perfectionnement à <strong>AutoCAD</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="cours.html#initiation-a-rhin">Initiation à <strong>Rhino 3D</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="docs.html"><strong>Sketchup</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="docs.html#acad"><strong>AutoCAD</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="docs.html#rhin"><strong>Rhino 3D</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="docs.html#grasp"><strong>Grasshopper</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="docs.html#rvt"><strong>Revit</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="docs.html#dyn"><strong>Dynamo</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="assist.html">Productions</a></li>
<li class="toctree-l1"><a class="reference internal" href="assist.html#forums">Forums</a></li>
<li class="toctree-l1"><a class="reference internal" href="assist.html#conseils">Conseils</a></li>
<li class="toctree-l1"><a class="reference internal" href="team.html">Olivier TURLIER</a></li>
<li class="toctree-l1"><a class="reference internal" href="team.html#mar">Marc O</a></li>
<li class="toctree-l1"><a class="reference internal" href="404.html">Erreur</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="formulaire-d-inscription-aux-cours">
<h1>Formulaire d&#8217;inscription aux cours</h1>
 <?php
        // set default form values
        $prenom = "";
        $nom = "";
        $adresse = "";
        $telephone = "";
        $email = "";
        $formation = "";
        $date_de_facturation = "";
        $note = "";

        if ($_POST["SUBMIT"]) {

                $found_error = 0;

                // sender data
                $sender_name = 'Canopee';
                $sender_email ="info@canopee.org";

                $sender_name = 'Inscription Formations';
                $sender_email ="info@canopee.org";
                // form data
                $prenom = $_POST["prenom"];
                $nom = $_POST["nom"];
                $adresse = $_POST["adresse"];
                $telephone = $_POST["telephone"];
                $email = $_POST["email"];
                $formation = $_POST["formation"];
                $date_de_facturation = $_POST["date_de_facturation"];
                $note = $_POST["note"];

                // compose submitter mail
                $from = 'From: ' . $sender_email;
                $to = $email;
                $subject = "Inscription réussie à " . $formation . " course";
                $message = "Votre inscription a été enregistrée.\n Merci.";
                $body = "From: $sender_name\n E-Mail: $sender_email\n Message:\n $message";
                $additional_headers = $from . "\r\n" . 'Content-Type: text/plain; charset=UTF-8';
                if ( !mail ($to, $subject, $body, $additional_headers) ) {
                        error_log("Error sending inscription receipt email: " . $body);
                        $found_error = 1;

                } else {

                        // compose internal archive mail
                        $from = 'From: ' . $sender_email;
                        $to = $sender_email;
                        $subject = "Inscription au cours: " . $formation . " per " . $prenom . " " . $nom;

                                // key:value message
                                // $message = "Timestamp: " . date("c") . "\n" .
                                                   // "Prénom: " . $prenom . "\n" .
                                                   // "Nom: " . $nom . "\n" .
                                                   // "Adresse: " . $adresse  . "\n" .
                                                   // "Téléphone: " . $telephone  . "\n" .
                                                   // "Email: " . $email  . "\n" .
                                                   // "Formation: " . $formation  . "\n" .
                                                   // "Date de Facturation: " . $date_de_facturation  . "\n" .
                                                   // "Note: " . $note  . "\n";

                                // with header csv message
                                $header = "Timestamp;Prenom;Nom;Adresse;Telephone;Email;Formation;Date de Facturation;Note";
                                $message =  date("c") .";" .
                                                        $prenom  .";" .
                                                        $nom  .";" .
                                                        $adresse .";" .
                                                        $telephone .";" .
                                                        $email .";" .
                                                        $formation .";" .
                                                        $date_de_facturation  .";" .
                                                        $note;

                        $body = "From: $sender_name\n E-Mail: $sender_email\n Message:\n$header\n$message\n";
                        $additional_headers = $from . "\r\n" . 'Content-Type: text/plain; charset=UTF-8';
                        if ( !mail ($to, $subject, $body, $additional_headers) ) {
                                error_log("Error sending internal inscription mail: ". $body);
                                $found_error = 1;
                        }

                        // write message on a local file
                        $report_filename = '/var/lib/form_results/training.log';
                        if ( !file_exists($report_filename) ) {
                                if ( !file_put_contents ( $report_filename , $header.PHP_EOL, FILE_APPEND | LOCK_EX) ) {
                                        error_log("Error writing inscription log file for this header: ". $header);
                                        $found_error = 1;
                                }
                        }
                        if ( !file_put_contents ( $report_filename , $message.PHP_EOL, FILE_APPEND | LOCK_EX) ) {
                                error_log("Error writing inscription log file for this message: ". $message);
                                $found_error = 1;
                        }
                }

                if ( $found_error ) {
                        echo '<h2>Something went wrong. Try again or contact webmaster!</h2>';
                } else {
                        echo '<h2 style="color:red;">Successfully subscribed to ' . $formation . " course</h2>";
                }
        }
?>
<form action="subscr_form_fr.html" method="post" class="form-horizontal">
<div class="form-group">
<label for="edit-submitted-prenom" class="col-sm-3 control-label">Prénom <span class="form-required" title="This field is mandatory.">*</span></label>
<div class="col-sm-9">
<input type="text" id="edit-submitted-prenom" name="prenom" value="<?=$prenom ?>" size="60" maxlength="128" class="form-control" />
</div>
</div>
<div class="form-group">
<label for="edit-submitted-nom" class="col-sm-3 control-label">Nom <span class="form-required" title="This field is mandatory.">*</span></label>
<div class="col-sm-9">
<input type="text" id="edit-submitted-nom" name="nom" value="<?=$nom ?>" size="60" maxlength="128" class="form-control" />
</div>
</div>
<div class="form-group">
<label for="edit-submitted-adresse" class="col-sm-3 control-label">Adresse <span class="form-required" title="This field is mandatory.">*</span></label>
<div class="col-sm-9">
<input type="text" id="edit-submitted-adresse" name="adresse" value="<?=$adresse ?>" size="60" maxlength="128" class="form-control" />
</div>
</div>
<div class="form-group">
<label for="edit-submitted-telephone" class="col-sm-3 control-label">Telephone <span class="form-required" title="This field is mandatory.">*</span></label>
<div class="col-sm-9">
<input type="text" id="edit-submitted-telephone" name="telephone" value="<?=$telephone ?>" size="60" maxlength="128" class="form-control" />
</div>
</div>
<div class="form-group">
<label for="edit-submitted-e-mail" class="col-sm-3 control-label">E-Mail <span class="form-required" title="This field is mandatory.">*</span></label>
<div class="col-sm-9">
<input class="form-control" type="email" value="<?=$email ?>" id="edit-submitted-e-mail" name="email" size="60" />
</div>
</div>
<div class="form-group">
<label for="edit-submitted-formation" class="col-sm-3 control-label">Formation <span class="form-required" title="This field is mandatory.">*</span></label>
<div class="col-sm-9">
<select id="edit-submitted-formation" name="formation" class="form-control">
        <option value="su_init" <?php if ($formation=="su_init") echo 'selected="selected"';?> >Initiation Sketchup</option>
        <option value="su_perf1" <?php if ($formation=="su_perf1") echo 'selected="selected"';?> >Perfectionnement 1 Sketchup</option>
        <option value="acad_init" <?php if ($formation=="acad_init") echo 'selected="selected"';?> >Initiation AutoCAD</option>
        <option value="acad_perf1" <?php if ($formation=="acad_perf1") echo 'selected="selected"';?> >Perfectionnement 1 AutoCAD</option>
        <option value="rhino_init" <?php if ($formation=="rhino_init") echo 'selected="selected"';?> >Initiation Rhinoceros</option>
        <option value="rhino_perf1" <?php if ($formation=="rhino_perf1") echo 'selected="selected"';?> >Perfectionnement 1 Rhinoceros</option>
</select>
</div>
</div>

<div class="form-group">
<label for="edit-submitted-dati-per-fatturazione" class="col-sm-3 control-label">Données pour facturation <span class="form-required" title="This field is mandatory.">*</span></label>
<div class="col-sm-9">
<textarea id="edit-submitted-dati-per-fatturazione" name="date_de_facturation" cols="60" rows="5" class="form-control"><?php echo htmlspecialchars($date_de_facturation); ?></textarea>
</div>
</div

<div class="form-group">
<label for="edit-submitted-note" class="col-sm-3 control-label text-right">Notes</label>
<div class="col-sm-9">
<textarea id="edit-submitted-note" name="note" cols="60" rows="5" class="form-control"><?php echo htmlspecialchars($note); ?></textarea><br><br>
 </div>
</div>

<div class="form-group">
<div class="col-sm-3"></div>
<div class="col-sm-9">
<button type="submit" name="SUBMIT" value="Send" class="btn btn-success">Envoi</button>
</div>
</div>

</form></div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2001-2017, Olivier TURLIER.<br/>
      Créé avec <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>